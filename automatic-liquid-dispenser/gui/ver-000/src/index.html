<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Programming the Cards for Liquid Soap Vending machine</title>
  <link rel="stylesheet" href="css/w3.css">
  <link rel="stylesheet" href="css/style.min.css">
</head>

<body class="w3-light-gray">
  <div id="app" class="w3-panel">
    <label>Hardware type: <i class="w3-small" v-if="selHardware">{{hardware.desc}}</i></label>
    <select class="w3-select w3-light-gray w3-border w3-hover-shadow" v-model="selHardware">
      <option disabled value="">Please your hardware</option>
      <option v-for="(option, idx) in avHw" :value="idx">
        {{ "Ref: "+ idx + " - " + option.name }}
      </option>
    </select>
    <div v-if="selHardware">
      <div class="w3-row-padding">
        <template :key="'ref_'+autoUpdate" v-for="(option, idx) in hardware.firmware.globalConfigs">
          <div class="w3-col s6">
            <div class="w3-border w3-hover-shadow w3-round cardConfig w3-padding">
              <label>{{option.name}}: {{option.value}}</label>
              <div class="w3-tiny"><i>{{option.desc}}</i></div>
              <input class="w3-input" type="range" v-model="option.value" :min="option.min" :max="option.max" />
            </div>
          </div>
        </template>
        <template :key="'ref_'+autoUpdate" v-for="(option, idx) in hardware.firmware.directives">
          <div class="w3-col s6">
            <div @click="option.value = !option.value" class="w3-border w3-hover-shadow w3-round cardConfig w3-padding">
              <input class="w3-check" type="checkbox" v-model="option.value">
              <label>&nbsp;{{option.name}}</label>
              <div class="w3-tiny"><i>{{option.desc}}</i></div>
            </div>
          </div>
        </template>
        <div class="w3-col s6">
          <div class="w3-border w3-hover-shadow w3-round cardConfig w3-padding">
            <label>Port</label>
            <div class="w3-row">
              <input class="w3-input w3-col s10" type="text" v-model="port" />
              <div class="w3-button w3-gray w3-col s2" @click="getPorts">List ports</div>
            </div>
          </div>
        </div>
      </div>
      <div class="w3-center">
        <div class="w3-bar">
          <div class="w3-btn w3-border w3-ripple w3-margin" @click="compile">
            Compile
          </div>
          <div class="w3-btn w3-border w3-ripple w3-margin" @click="burn">
            Program
          </div>
          <div class="w3-btn w3-border w3-ripple w3-margin" @click="clearLog">
            Clear log
          </div>
        </div>
      </div>
      <label id="executingText"></label>
      <pre class="fix-size-scroll w3-border w3-block" id="log"></pre>
      <center>
      </center>
    </div>
  </div>
  <script>
  </script>
  <script src="../node_modules/vue/dist/vue.global.prod.js"></script>
  <script src="./client-script.min.js"></script>
</body>

</html>